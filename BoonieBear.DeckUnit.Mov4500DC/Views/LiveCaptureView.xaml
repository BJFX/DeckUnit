<Page x:Class="BoonieBear.DeckUnit.Mov4500UI.Views.LiveCaptureView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
      xmlns:dxgauge="http://schemas.devexpress.com/winfx/2008/xaml/gauges"
      xmlns:dxchart="http://schemas.devexpress.com/winfx/2008/xaml/charts"
      xmlns:k="clr-namespace:TinyMetroWpfLibrary.Controls.TouchKeyBoard;assembly=TinyMetroWpfLibrary.Controls"
      xmlns:Controls="clr-namespace:TinyMetroWpfLibrary.Controls;assembly=TinyMetroWpfLibrary.Controls"
      xmlns:MetroControl="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
      xmlns:wavebox="clr-namespace:BoonieBear.DeckUnit.WaveBox;assembly=LOAT.DeckUnit.WaveBox"
      xmlns:ViewControls="clr-namespace:BoonieBear.DeckUnit.Mov4500UI.Controls"
      xmlns:converters="clr-namespace:BoonieBear.DeckUnit.Mov4500UI.Converters"
      xmlns:h="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
      xmlns:system="clr-namespace:System;assembly=mscorlib"
      DataContext="{Binding LiveCaptureViewModel, Source={StaticResource ViewModelLocator}}"
      Background="{StaticResource DefaultBackgroundBrush}"
      mc:Ignorable="d" 
      KeepAlive="True"
      d:DesignHeight="720" d:DesignWidth="1080"
	Title="LiveCaptureView" Loaded="Page_Loaded" PreviewMouseDown="Page_PreviewMouseDown">
    <Page.Resources>
        <converters:AbsConverter x:Key="AbsConverter"/>
        <converters:BpMarkLengthConverter x:Key="BpMarkLengthConverter"/>
        <converters:BpDistanceConverter x:Key="BpDistanceConverter"/>
        <converters:FtimeToShortTimeConverter x:Key="FtimeToShortTimeConverter"/>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <converters:BoolReverseConverter x:Key="BoolReverseConverter"/>
        <converters:VisibilityBoolToggleConverter x:Key="VisibilityBoolToggleConverter"/>
        <converters:HideZeroConverter x:Key="HideZeroConverter"/>
        <converters:DoubleMultiConverter x:Key="DoubleMultiConverter"/>
        <converters:_3DChartFrontAngleShipConverter x:Key="_3DChartFrontAngleShipConverter"/>
        <converters:_3DChartFrontAngleMovConverter x:Key="_3DChartFrontAngleMovConverter"/>
    </Page.Resources>
    <Controls:MetroContentControl>
        <Grid Name="RootGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
            </Grid.ColumnDefinitions>
            <!--Logo and title-->
            <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <ViewControls:TitleBarControl x:Name="LiveTitle" 
                    Foreground="White"
                    Title="{Binding Live_Title_Top, Mode=OneWay, Source={StaticResource Resources}}"
                    Grid.Row ="0"
                    Grid.Column ="0"
                    Grid.ColumnSpan ="2"
                    HorizontalAlignment ="Stretch"/>
            </Grid>
            <Grid Grid.Row="1" Grid.Column="1" Width="{Binding ActualWidth, ConverterParameter=0.98, Converter={StaticResource DoubleMultiConverter}, ElementName=RootGrid, Mode=OneWay}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="150"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid  Grid.Row="0" Name="PosWaveGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="{Binding ActualWidth, ElementName=MessageRichTextBox, Mode=OneWay}"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <wavebox:WaveControl Grid.Column="0" Name="WaveControl"/>
                    <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" FontSize="16" Foreground="White" Margin="5,0,0,8">
                        <Run Text="发射换能器"/>
                    </TextBlock>
                    <Controls:MetroComboBox x:Name="EmitSelBox" VerticalAlignment="Bottom" HorizontalAlignment="Left" SelectedIndex="{Binding XMTIndex}" IsReadOnly="True" Background="{DynamicResource DefaultBackgroundBrush}" BorderBrush="{DynamicResource DefaultBackgroundBrush}" FontSize="16" BorderThickness="0" Margin="95,0,0,5" Width="35" AllowDrop="True">
                        <ComboBoxItem Content="1"  Background="{DynamicResource DefaultBackgroundBrush}"/>
                        <ComboBoxItem Content="2"   Background="{DynamicResource DefaultBackgroundBrush}"/>
                        <ComboBoxItem Content="3"  Background="{DynamicResource DefaultBackgroundBrush}"/>
                        <ComboBoxItem Content="4"  Background="{DynamicResource DefaultBackgroundBrush}"/>
                    </Controls:MetroComboBox>
                    <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" FontSize="16" Foreground="White" Margin="145,0,0,8">
                        <Run Text="发射幅度"/>
                    </TextBlock>
                    <Slider x:Name="slider" Maximum="1" Minimum="0.001" SmallChange="0.001" LargeChange="0.1" TickPlacement="TopLeft" TickFrequency="0.1" Value="{Binding XMTValue, Mode=TwoWay, StringFormat=\{0:F3\}}" HorizontalAlignment="Left" VerticalAlignment="Bottom" Width="160" Margin="215,0,0,3" Height="30" />
                    <TextBlock FontSize="16" VerticalAlignment="Bottom" Margin="385,0,0,8"  Foreground="White" Text="{Binding XMTValue, Mode=TwoWay, StringFormat=\{0:F3\}}" HorizontalAlignment="Left" Width="50"/>
                    <MetroControl:FlipView Name="MultiView" Grid.Column="1" SelectionChanged="FlipView_SelectionChanged" Margin="2,0,0,0" IsBannerEnabled="False" MouseOverGlowEnabled="False">
                        <MetroControl:FlipView.Items>
                            <ScrollViewer Name ="ImgViewer" Style="{DynamicResource TransportScrollViewer}" CanContentScroll="True" VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Auto">
                                <StackPanel Orientation="Horizontal" Name="ImagePanel"/>
                            </ScrollViewer>
                            <Grid >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <UniformGrid Grid.Column ="0" Rows="2" Columns="3">
                                    <ViewControls:TreadTile Title="深度" Unit="m" Value="{Binding MovDepth, StringFormat=\{0:F2\}}"/>
                                    <ViewControls:TreadTile Title="高度" Unit="m" Value="{Binding MovHeight, StringFormat=\{0:F2\}}"/>
                                    <ViewControls:TreadTile Title="舱内温度" Unit="°C" Value="{Binding Temperature, StringFormat=\{0:F2\}}"/>
                                    <ViewControls:TreadTile Title="氧气" Unit="%" Value="{Binding Oxygen, StringFormat=\{0:F2\}}"/>
                                    <ViewControls:TreadTile  Title="载人舱漏水" Unit="V" Value="{Binding Leak, StringFormat=\{0:F2\}}" />
                                    <ViewControls:TreadTile Title="艏电池" Unit="V" Value="{Binding HeadmainV, StringFormat=\{0:F2\}}"/>
                                </UniformGrid>
                                <dxchart:ChartControl Grid.Column="1">
                                    <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D>
                                            <dxchart:XYDiagram2D.AxisX >
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisX2D.DateTimeOptions>
                                                        <dxchart:DateTimeOptions Format="LongTime"/>
                                                    </dxchart:AxisX2D.DateTimeOptions>
                                                </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX >
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Reverse="True" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Title>
                                                        <dxchart:AxisTitle Content="深度(m)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Title>
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="5000"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel Foreground="{DynamicResource Home_ConsoleBackground}" />
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Depth" DisplayName="深度">
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                    </dxchart:ChartControl.Diagram>
                                </dxchart:ChartControl>
                            </Grid>
                        </MetroControl:FlipView.Items>
                    </MetroControl:FlipView>
                </Grid>
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="516"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid Margin="0,0,2,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition  Name="MorseRow" Height="0"/>
                            <RowDefinition Height="80"/>
                        </Grid.RowDefinitions>

                        <RichTextBox Grid.Row="0"  VerticalScrollBarVisibility="Auto" IsReadOnly="True" Name="MessageRichTextBox"  IsDocumentEnabled="True" Margin="0" Background="{DynamicResource GrayBrush}" BorderThickness="1,0" >
                            <RichTextBox.Resources>
                                <Style TargetType="{x:Type Paragraph}">
                                    <Setter Property="Margin" Value="0"/>
                                </Style>
                            </RichTextBox.Resources>
                            <FlowDocument Name="MessageDocument" LineHeight="24">
                            </FlowDocument>
                        </RichTextBox>
                        <TextBlock Grid.Row="0"  Name="NolinkBlock" Grid.Column="0" Background="DarkOrange" Text="没有可用的连接" Visibility="Visible" FontSize="24" TextAlignment="Center" VerticalAlignment="Top" Margin="2" Opacity="0.4"/>
                        <UniformGrid  Name="MorseGrid"  Grid.Row="1" Columns="5" Background="{DynamicResource GrayBrush}">
                            <Button Content="收到" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip}" Click="SendMorse"/>
                            <Button Content="询问情况" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip}" Click="SendMorse"/>
                            <Button Content="同意" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip}" Click="SendMorse"/>
                            <Button Content="立即上浮" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip}" Click="SendMorse"/>
                            <Button Content="不同意" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip}" Click="SendMorse"/>
                            <TextBlock Text="●●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●● ●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●●●●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●●● ●●●" TextAlignment="Center" FontSize="20"  />
                            <Button Content="一切正常" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip, Converter={StaticResource BoolReverseConverter}}" Click="SendMorse"/>
                            <Button Content="完成阶段工作" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip, Converter={StaticResource BoolReverseConverter}}" Click="SendMorse"/>
                            <Button Content="请求上浮" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip, Converter={StaticResource BoolReverseConverter}}" Click="SendMorse"/>
                            <Button Content="进入应急程序" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip, Converter={StaticResource BoolReverseConverter}}" Click="SendMorse"/>
                            <Button Content="释放应急浮标" Style="{StaticResource ChromeButtonStyle}" Background ="{DynamicResource DefaultBackgroundBrush}" IsEnabled="{Binding BtnShowShip, Converter={StaticResource BoolReverseConverter}}" Click="SendMorse"/>
                            <TextBlock Text="●●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●● ●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●●●●●" TextAlignment="Center" FontSize="20" />
                            <TextBlock Text="●● ●● ●●" TextAlignment="Center" FontSize="20"  />
                        </UniformGrid>
                        <Grid Grid.Row="2" Background="{Binding Background, ElementName=SendMessageBox}">
                            <TextBox  Grid.Row="2" VerticalScrollBarVisibility="Auto" 
                                      Name="SendMessageBox" 
                                      Background="{DynamicResource Home_ShareBackground}" FontSize="{DynamicResource Medium}" TextChanged="SendMessageBox_TextChanged" KeyDown="SendMessageBox_KeyDown" BorderThickness="0" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" MinHeight="0" ClipToBounds="True" Padding="0" GotFocus="SendMessageBox_GotFocus" LostFocus="SendMessageBox_LostFocus" Margin="55,0,55,0" MaxLength="20" />
                            <Grid  Margin="3" Grid.Row="2" HorizontalAlignment="Right">
                                <Controls:FanPanel x:Name="fanpanel" Width="48" Height="48"  PanelRadius="60" AnimationMilliseconds="200" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button Name="AddMorseBtn" Foreground="White" Content="摩尔斯" Background ="{DynamicResource DefaultBackgroundBrush}" Controls:FanPanel.Angle="-180" VerticalAlignment="Center" Visibility="{Binding IsOpen, ConverterParameter=TrueToVisible, Converter={StaticResource BoolToVisibilityConverter}, ElementName=fanpanel}" Click="AddMorseBtn_Click" />
                                    <Button Name="AddFHBtn" Foreground="White" Content="跳频" Background ="{DynamicResource DefaultBackgroundBrush}" Controls:FanPanel.Angle="-140" VerticalAlignment="Center" Visibility="{Binding IsOpen, ConverterParameter=TrueToVisible, Converter={StaticResource BoolToVisibilityConverter}, ElementName=fanpanel}" Command="{Binding AddFHCMD}"/>
                                    <Button Name="AddImageBtn" Foreground="White" Content="图像" Background ="{DynamicResource DefaultBackgroundBrush}" Controls:FanPanel.Angle="140" VerticalAlignment="Center"  Visibility="{Binding IsOpen, ConverterParameter=TrueToVisible, Converter={StaticResource BoolToVisibilityConverter}, ElementName=fanpanel}" Command="{Binding AddImgCMD}"/>
                                </Controls:FanPanel>
                                <Ellipse  Width="45" Height="45" HorizontalAlignment="Center" VerticalAlignment="Center" Fill="{Binding Background, ElementName=SendMessageBox}"/>
                                <Button  VerticalAlignment="Center" Style="{StaticResource AddAnnotationAppBarButtonStyle}" Click="Button_Click"/>
                            </Grid>
                            <Button Background="{Binding Background, ElementName=SendMessageBox}" Name ="SendBtn" Style="{StaticResource SquareButtonStyle}" Content="发送" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center" Width="55" Height="45" Click="SendBtn_Click" Margin="0,0,5,0" FontSize="16" FontFamily="Microsoft YaHei" FontWeight="Normal" Visibility="Hidden" />
                            <TextBlock Name="LeftSize" Foreground="Black" Text="(还可继续输入30个字)" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom"/>
                            <Label Name="SSBToolTip" Foreground="Black" Content="按住说话" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18" Visibility="Hidden" Margin="0,20,0,0"/>
                            <MetroControl:MetroProgressBar Name="VoiceBar"  Visibility="Hidden" EllipseDiameter="80" EllipseOffset="40" Value="0" Margin="55,20,55,0" MouseLeftButtonDown="VoiceBar_MouseLeftButtonDown" MouseLeftButtonUp="VoiceBar_MouseLeftButtonUp" MouseLeave="VoiceBar_MouseLeave" Opacity="0.4" Height="40">
                                <MetroControl:MetroProgressBar.Foreground>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FF4B3333" Offset="0.386"/>
                                        <GradientStop Color="Red" Offset="1"/>
                                    </LinearGradientBrush>
                                </MetroControl:MetroProgressBar.Foreground>
                            </MetroControl:MetroProgressBar>
                            <Button Background="{Binding Background, ElementName=SendMessageBox}" Name ="SendSSBBtn" Style="{StaticResource VoiceAppBarButtonStyle}" Grid.Row="2" HorizontalAlignment="Left" VerticalAlignment="Center" Width="55" Height="45" Margin="0,0,5,0" FontSize="16" FontFamily="Microsoft YaHei" FontWeight="Normal" Visibility="Visible" Click="SendSSBBtn_Click" />
                            <Button Background="{Binding Background, ElementName=SendMessageBox}" Name ="BackToEditBtn" Style="{StaticResource EditTextAppBarButtonStyle}" Grid.Row="2" HorizontalAlignment="Left" VerticalAlignment="Center" Width="55" Height="45" Margin="0,0,5,0" FontSize="16" FontFamily="Microsoft YaHei" FontWeight="Normal" Visibility="Hidden" Click="BackToEditBtn_Click" />
                        </Grid>
                    </Grid>
                    <Grid Grid.Row="1" Column="1" Margin="15,0,0,0">
                        <MetroControl:MetroAnimatedTabControl TabStripPlacement="Bottom" Cursor="Hand" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
                            <TabItem Header="位姿">
                                <Grid TextBlock.Foreground="White">
                                    <h:HelixViewport3D x:Name="PosViewport3D" Background="{StaticResource DefaultBackgroundBrush}" 
                                               ShowViewCube="False" 
                                               ShowCameraTarget="False" 
                                               ShowCoordinateSystem="False" 
                                               Margin="4" MouseEnter="PosViewport3D_MouseEnter" MouseLeave="PosViewport3D_MouseLeave" IsManipulationEnabled="True" LostFocus="PosViewport3D_LostFocus" PreviewMouseWheel="PosViewport3D_PreviewMouseWheel">
                                        <h:HelixViewport3D.DefaultCamera>
                                            <PerspectiveCamera x:Name ="PosCamera" Position="0,0,6000" LookDirection="0,0,-6000" UpDirection="-1,0,0" NearPlaneDistance="3000" FarPlaneDistance="60000"/>
                                        </h:HelixViewport3D.DefaultCamera>

                                        <h:SunLight/>
                                        <h:GridLinesVisual3D  Fill="Cornsilk" Length ="10000" Width="10000" MinorDistance="500" MajorDistance="20000" Thickness="6">
                                            <h:GridLinesVisual3D.Transform>
                                                <Transform3DGroup>
                                                    <TranslateTransform3D OffsetZ="-100"/>
                                                </Transform3DGroup>
                                            </h:GridLinesVisual3D.Transform>
                                        </h:GridLinesVisual3D>
                                        <ModelVisual3D x:Name="ShipD">
                                            <ModelVisual3D.Transform>
                                                <Transform3DGroup>
                                                    <TranslateTransform3D OffsetZ="100"/>
                                                    <RotateTransform3D>
                                                        <RotateTransform3D.Rotation>
                                                            <AxisAngleRotation3D Axis="0,0,1">
                                                                <AxisAngleRotation3D.Angle>
                                                                    <MultiBinding Converter="{StaticResource _3DChartFrontAngleShipConverter}">
                                                                        <Binding Path="ShipHeading"/>
                                                                        <Binding Path="SetShipHeadingFront"/>
                                                                    </MultiBinding>
                                                                </AxisAngleRotation3D.Angle>
                                                            </AxisAngleRotation3D>
                                                        </RotateTransform3D.Rotation>
                                                    </RotateTransform3D>
                                                </Transform3DGroup>
                                            </ModelVisual3D.Transform>
                                        </ModelVisual3D>
                                        <ModelVisual3D x:Name="MovD">
                                            <ModelVisual3D.Transform>
                                                <Transform3DGroup>
                                                    
                                                    <RotateTransform3D>
                                                        <RotateTransform3D.Rotation>
                                                            <AxisAngleRotation3D Axis="1,0,0" Angle="-90"/>
                                                        </RotateTransform3D.Rotation>
                                                    </RotateTransform3D>
                                                    <RotateTransform3D>
                                                        <RotateTransform3D.Rotation>
                                                            <AxisAngleRotation3D Axis="0,1,0" Angle="180"/>
                                                        </RotateTransform3D.Rotation>
                                                    </RotateTransform3D>
                                                    <RotateTransform3D>
                                                        <RotateTransform3D.Rotation>
                                                            <AxisAngleRotation3D Axis="0,0,1">
                                                                <AxisAngleRotation3D.Angle>
                                                                    <MultiBinding Converter="{StaticResource _3DChartFrontAngleMovConverter}">
                                                                        <Binding Path="ShipHeading"/>
                                                                        <Binding Path="MovHeading"/>
                                                                        <Binding Path="SetShipHeadingFront"/>
                                                                    </MultiBinding>
                                                                </AxisAngleRotation3D.Angle>
                                                            </AxisAngleRotation3D>
                                                        </RotateTransform3D.Rotation>
                                                    </RotateTransform3D>
                                                    <TranslateTransform3D OffsetZ="{Binding Z}"/>
                                                    <TranslateTransform3D OffsetX="{Binding X}"/>
                                                    <TranslateTransform3D OffsetY="{Binding Y}"/>
                                                </Transform3DGroup>
                                            </ModelVisual3D.Transform>
                                        </ModelVisual3D>
                                        <h:ArrowVisual3D Point1="6000 0 -100" Point2="-6000 0 -100" Diameter="20" Fill="Red"  HeadLength="30" ThetaDiv="36"  />
                                        <h:ArrowVisual3D Point1="0 -6000 -100" Point2="0 6000 -100" Diameter="20" Fill="Green" HeadLength="30" ThetaDiv="36"  />
                                    </h:HelixViewport3D>
                                    <CheckBox x:Name="HeadChoser"  Foreground ="White" VerticalAlignment="Bottom" FontSize="14" HorizontalAlignment="Center" Content="北方为正前"  IsChecked="{Binding SetShipHeadingFront}" Unchecked="HeadChoser_Unchecked" Checked="HeadChoser_Checked"/>
                                    <CheckBox x:Name="ShowTrackBox"  Foreground ="White" VerticalAlignment="Bottom" FontSize="14" HorizontalAlignment="Right" Content="显示轨迹"  IsChecked="{Binding ShowTrack}"/>
                                    <TextBlock Foreground ="White" VerticalAlignment="Bottom" FontSize="16" HorizontalAlignment="Left" Text="网格距离500米"/>
                                    <!--Button Style="{StaticResource ChromeButtonStyle}"  x:Name="NorthButton"  Content="正北" Foreground="DarkGray" Click="NorthButton_Click" VerticalAlignment="Top" FontSize="14" HorizontalAlignment="Center"/-->
                                    <StackPanel Name="USBL" Orientation="Vertical" HorizontalAlignment="Left" VerticalAlignment="Top">
                                        <CheckBox Content="超短基线" Foreground ="White" IsChecked="{Binding USBLUsed}"/>
                                        <TextBlock FontSize="16">
                                            <Run Text="更新时间:   "/>
                                            <Run Text="{Binding PosFromUSBLTime}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="母船经度:"/>
                                            <Run Text="{Binding ShipLongUsbl}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="母船纬度:"/>
                                            <Run Text="{Binding ShipLatUsbl}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="母船速度:"/>
                                            <Run Text="{Binding ShipSpeed}"/>
                                            <Run Text="毫米/秒"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="艏向角:"/>
                                            <Run Text="{Binding ShipHeading}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="纵倾:"/>
                                            <Run Text="{Binding ShipPitch}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="横倾:"/>
                                            <Run Text="{Binding ShipRoll}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器经度:"/>
                                            <Run Text="{Binding MovLongUsbl}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器纬度:"/>
                                            <Run Text="{Binding MovLatUsbl}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器深度:"/>
                                            <Run Text="{Binding MovDepthUsbl}"/>
                                            <Run Text="m"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="相对距离(米)"/>
                                            <Run Text=" X:"/>
                                            <Run Text="{Binding XDistanceFromUSBL}"/>
                                            <Run Text=" | Y:"/>
                                            <Run Text="{Binding YDistanceFromUSBL}"/>
                                            <Run Text=" | Z:"/>
                                            <Run Text="{Binding ZDistanceFromUSBL}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <StackPanel Name="MovPos" Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,0,80,0">

                                        <CheckBox Content="潜器返回" Foreground ="White" IsChecked="{Binding UWVUsed}"/>
                                        <TextBlock FontSize="16">
                                            <Run Text="更新时间:   "/>
                                            <Run Text="{Binding PosFromUwvTime}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器经度:"/>
                                            <Run Text="{Binding MovLong}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器纬度:"/>
                                            <Run Text="{Binding MovLat}"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="艏向角:"/>
                                            <Run Text="{Binding MovHeading}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="纵倾:"/>
                                            <Run Text="{Binding MovPitch}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="横倾:"/>
                                            <Run Text="{Binding MovRoll}"/>
                                            <Run Text="度"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="升沉速度:"/>
                                            <Run Text="{Binding MovRoll}"/>
                                            <Run Text="米/分"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="纵向速度:"/>
                                            <Run Text="{Binding MovRoll}"/>
                                            <Run Text="米/秒"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="侧移速度:"/>
                                            <Run Text="{Binding MovRoll}"/>
                                            <Run Text="米/秒"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器深度:"/>
                                            <Run Text="{Binding MovDepth}"/>
                                            <Run Text="米"/>
                                        </TextBlock>
                                        <TextBlock FontSize="16">
                                            <Run Text="潜器高度:"/>
                                            <Run Text="{Binding MovHeight}"/>
                                            <Run Text="米"/>
                                        </TextBlock>
                                    </StackPanel>

                                </Grid>
                            </TabItem>
                            <TabItem Header="潜器数据">
                                <ScrollViewer>
                                    <StackPanel Orientation="Vertical">
                                        <dx:GroupFrame  Header="电池电压" >
                                            <UniformGrid  Columns="4">
                                                <ViewControls:TreadTile  Grid.Column="0" Title="艏电池" Unit="V" Value="{Binding HeadmainV, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="1" Title="艉电池" Unit="V" Value="{Binding TailmainV, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="2" Title="左电池" Unit="V" Value="{Binding LeftsubV, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="3" Title="右电池" Unit="V" Value="{Binding RightsubV, StringFormat=\{0:F1\}}"/>
                                            </UniformGrid>
                                        </dx:GroupFrame>
                                        <dx:GroupFrame Header="电池电流">
                                            <UniformGrid Columns="4">
                                                <ViewControls:TreadTile  Grid.Column="0" Title="艏电池" Unit="A" Value="{Binding HeadmainI, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="1" Title="艉电池" Unit="A" Value="{Binding TailmainI, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="2" Title="左电池" Unit="A" Value="{Binding LeftsubI, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Grid.Column="3" Title="右电池" Unit="A" Value="{Binding RightsubI, StringFormat=\{0:F1\}}"/>
                                            </UniformGrid>
                                        </dx:GroupFrame>
                                        <dx:GroupFrame Header="电池状态">
                                            <UniformGrid Rows="6" Columns="2">
                                                <ViewControls:TreadTile  Title="艏电池消耗" Unit="Kwh" Value="{Binding Headmainconsume, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="艉电池消耗" Unit="Kwh" Value="{Binding Tailmainconsume, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="左电池消耗" Unit="Kwh" Value="{Binding Leftsubconsume, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="右电池消耗" Unit="Kwh" Value="{Binding Rightsubconsume, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="艏电池膨胀" Unit="mm" Value="{Binding HeadmainMaxExpand, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="艉电池膨胀" Unit="mm" Value="{Binding TailmainMaxExpand, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="左电池膨胀" Unit="mm" Value="{Binding LeftsubMaxExpand, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="右电池膨胀" Unit="mm" Value="{Binding RightsubMaxExpand, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="艏电池温度" Unit="℃" Value="{Binding HeadmainMaxTemp, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="艉电池温度" Unit="℃" Value="{Binding TailmainMaxTemp, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="左电池温度" Unit="℃" Value="{Binding LeftsubMaxTemp, StringFormat=\{0:F2\}}"/>
                                                <ViewControls:TreadTile  Title="右电池温度" Unit="℃" Value="{Binding RightsubMaxTemp, StringFormat=\{0:F2\}}"/>
                                            </UniformGrid>
                                        </dx:GroupFrame>
                                        <dx:GroupFrame  Header="生命支持" >
                                            <UniformGrid  Columns="3">
                                                <ViewControls:TreadTile Title="氧气" Unit="%" Value="{Binding Oxygen, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile Title="二氧化碳" Unit="%" Value="{Binding Co2, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile Title="温度" Unit="℃" Value="{Binding Temperature, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile Title="湿度" Unit="%" Value="{Binding Humidity, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile Title="压力" Unit="KP" Value="{Binding Pressure, StringFormat=\{0:F1\}}"/>
                                            </UniformGrid>
                                        </dx:GroupFrame>
                                        <dx:GroupFrame  Header="CTD" >
                                            <UniformGrid  Columns="4">
                                                <ViewControls:TreadTile  Title="海水温度" Unit="°C" Value="{Binding CTDWaterTemp, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Title="深度" Unit="m" Value="{Binding CTDDepth, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Title="电导率" Unit="uS/cm" Value="{Binding CTDWatercond, StringFormat=\{0:F1\}}"/>
                                                <ViewControls:TreadTile  Title="声速" Unit="m/s" Value="{Binding CTDSoundvec, StringFormat=\{0:F1\}}"/>
                                            </UniformGrid>
                                        </dx:GroupFrame>
                                    </StackPanel>
                                </ScrollViewer>
                                
                            </TabItem>
                            <TabItem Header="生命支持">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding LifeTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <ViewControls:TreadTile Title="氧气" Unit="%" Value="{Binding Oxygen, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="1" Title="二氧化碳" Unit="%" Value="{Binding Co2, StringFormat=\{0:F2\}}"/>
                                        <dxchart:ChartControl Name="chartControl"
                                              BorderThickness="0"
                                              DataSource="{Binding LiveInfos}"
                                              Margin="0"
                                              Background="{StaticResource DefaultBackgroundBrush}"
                                              EnableAnimation="True"
                                              Grid.Column="1" Grid.RowSpan="2" Grid.ColumnSpan="2" Padding="0">
                                            <dxchart:ChartControl.Palette>
                                                <dxchart:CustomPalette>
                                                    <dxchart:CustomPalette.Colors>
                                                        <Color>#9F4240</Color>
                                                        <Color>#3B608D</Color>
                                                        <Color>#A1622D</Color>
                                                        <Color>#327284</Color>
                                                        <Color>#634D7D</Color>
                                                        <Color>#E3AAD6</Color>
                                                        <Color>#638A2D</Color>
                                                        <Color>#94B355</Color>
                                                        <Color></Color>
                                                    </dxchart:CustomPalette.Colors>
                                                </dxchart:CustomPalette>
                                            </dxchart:ChartControl.Palette>
                                            <dxchart:ChartControl.Diagram>
                                                <dxchart:SimpleDiagram2D>
                                                    <dxchart:SimpleDiagram2D.Series>
                                                        <dxchart:PieSeries2D HoleRadiusPercent="0"
                                                              ArgumentScaleType="Qualitative"
                                                             Name="AirSeries2D"
                                                             LabelsVisibility="True"
                                                             SweepDirection="Counterclockwise"
                                                             Rotation="-270" ArgumentDataMember="Category" ValueDataMember="Number">
                                                            <dxchart:PieSeries2D.Model>
                                                                <dxchart:GlarePie2DModel />
                                                            </dxchart:PieSeries2D.Model>
                                                            <dxchart:PieSeries2D.PointOptions>
                                                                <dxchart:PointOptions PointView="Values">
                                                                    <dxchart:PointOptions.ValueNumericOptions>
                                                                        <dxchart:NumericOptions Format="Percent"/>
                                                                    </dxchart:PointOptions.ValueNumericOptions>
                                                                    <dxchart:PieSeries2D.PercentOptions>
                                                                        <dxchart:PercentOptions PercentageAccuracy="4" />
                                                                    </dxchart:PieSeries2D.PercentOptions>
                                                                </dxchart:PointOptions>
                                                            </dxchart:PieSeries2D.PointOptions>
                                                            <dxchart:PieSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions Pattern="{}{A}: {V}" >
                                                                    <dxchart:PointOptions.ValueNumericOptions>
                                                                        <dxchart:NumericOptions Format="Percent"/>
                                                                    </dxchart:PointOptions.ValueNumericOptions>
                                                                    <dxchart:PieSeries2D.PercentOptions>
                                                                        <dxchart:PercentOptions PercentageAccuracy="4" />
                                                                    </dxchart:PieSeries2D.PercentOptions>
                                                                </dxchart:PointOptions>
                                                            </dxchart:PieSeries2D.LegendPointOptions>
                                                        </dxchart:PieSeries2D>
                                                    </dxchart:SimpleDiagram2D.Series>
                                                </dxchart:SimpleDiagram2D>
                                            </dxchart:ChartControl.Diagram>
                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend VerticalPosition="Bottom" Margin="10" IsManipulationEnabled="True" />
                                            </dxchart:ChartControl.Legend>
                                        </dxchart:ChartControl>
                                        <dxgauge:CircularGaugeControl Grid.Row="2"  Grid.RowSpan="2">
                                            <dxgauge:CircularGaugeControl.Scales>
                                                <dxgauge:ArcScale StartAngle="-180" EndAngle="0"  EndValue="50" VerticalAlignment="Center" HorizontalAlignment="Center" LayoutMode="HalfTop">
                                                    <dxgauge:ArcScale.LabelPresentation>
                                                        <dxgauge:ProgressiveScaleLabelPresentation/>
                                                    </dxgauge:ArcScale.LabelPresentation>
                                                    <dxgauge:ArcScale.TickmarksPresentation>
                                                        <dxgauge:ClassicTickmarksPresentation/>
                                                    </dxgauge:ArcScale.TickmarksPresentation>
                                                    <dxgauge:ArcScale.Needles>
                                                        <dxgauge:ArcScaleNeedle Value="{Binding Temperature}">
                                                            <dxgauge:ArcScaleNeedle.Presentation>
                                                                <dxgauge:CleanWhiteArcScaleNeedlePresentation/>
                                                            </dxgauge:ArcScaleNeedle.Presentation>
                                                        </dxgauge:ArcScaleNeedle>
                                                    </dxgauge:ArcScale.Needles>
                                                </dxgauge:ArcScale>

                                            </dxgauge:CircularGaugeControl.Scales>
                                        </dxgauge:CircularGaugeControl>
                                        <dxgauge:CircularGaugeControl Grid.Row="2"  Grid.RowSpan="2" Grid.Column="1">
                                            <dxgauge:CircularGaugeControl.Scales>
                                                <dxgauge:ArcScale StartAngle="-180" EndAngle="0" >
                                                    <dxgauge:ArcScale.LabelPresentation>
                                                        <dxgauge:ProgressiveScaleLabelPresentation/>
                                                    </dxgauge:ArcScale.LabelPresentation>
                                                    <dxgauge:ArcScale.TickmarksPresentation>
                                                        <dxgauge:ClassicTickmarksPresentation/>
                                                    </dxgauge:ArcScale.TickmarksPresentation>
                                                    <dxgauge:ArcScale.Needles>
                                                        <dxgauge:ArcScaleNeedle Value="{Binding Humidity}">
                                                            <dxgauge:ArcScaleNeedle.Presentation>
                                                                <dxgauge:CleanWhiteArcScaleNeedlePresentation/>
                                                            </dxgauge:ArcScaleNeedle.Presentation>
                                                        </dxgauge:ArcScaleNeedle>
                                                    </dxgauge:ArcScale.Needles>
                                                </dxgauge:ArcScale>
                                            </dxgauge:CircularGaugeControl.Scales>
                                        </dxgauge:CircularGaugeControl>
                                        <ViewControls:TreadTile Grid.Row="4" Title="温度" Unit="°C" Value="{Binding Temperature, StringFormat=\{0:F2\}}"/>

                                        <ViewControls:TreadTile Grid.Row="4" Grid.Column="1" Title="湿度" Unit="%" Value="{Binding Humidity, StringFormat=\{0:F2\}}"/>
                                        <dxgauge:CircularGaugeControl Grid.Row="2"  Grid.RowSpan="2" Grid.Column="2">
                                            <dxgauge:CircularGaugeControl.Scales>
                                                <dxgauge:ArcScale StartAngle="-180" EndAngle="0" EndValue="130" StartValue="70" MajorIntervalCount="6" >
                                                    <dxgauge:ArcScale.LabelPresentation>
                                                        <dxgauge:ProgressiveScaleLabelPresentation/>
                                                    </dxgauge:ArcScale.LabelPresentation>
                                                    <dxgauge:ArcScale.TickmarksPresentation>
                                                        <dxgauge:ClassicTickmarksPresentation/>
                                                    </dxgauge:ArcScale.TickmarksPresentation>
                                                    <dxgauge:ArcScale.Needles>
                                                        <dxgauge:ArcScaleNeedle Value="{Binding Pressure}">
                                                            <dxgauge:ArcScaleNeedle.Presentation>
                                                                <dxgauge:CleanWhiteArcScaleNeedlePresentation/>
                                                            </dxgauge:ArcScaleNeedle.Presentation>
                                                        </dxgauge:ArcScaleNeedle>
                                                    </dxgauge:ArcScale.Needles>
                                                </dxgauge:ArcScale>
                                            </dxgauge:CircularGaugeControl.Scales>
                                        </dxgauge:CircularGaugeControl>
                                        <ViewControls:TreadTile Grid.Row="4" Grid.Column="2" Title="压力" Unit="kP" Value="{Binding Pressure, StringFormat=\{0:F2\}}"/>
                                    </Grid>
                                </Grid>


                            </TabItem>
                            <TabItem Header="电压/电流">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding EnergyTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="3*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="3*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <dxchart:ChartControl Grid.Row="0" Grid.ColumnSpan="4">
                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Right" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D EnableAxisXNavigation="True" >
                                            <dxchart:XYDiagram2D.NavigationOptions>
                                                <dxchart:NavigationOptions/>
                                            </dxchart:XYDiagram2D.NavigationOptions>
                                            <dxchart:XYDiagram2D.DefaultPane>
                                                <dxchart:Pane>
                                                    <dxchart:Pane.AxisXScrollBarOptions>
                                                        <dxchart:ScrollBarOptions Visible="False" />
                                                    </dxchart:Pane.AxisXScrollBarOptions>
                                                </dxchart:Pane>
                                            </dxchart:XYDiagram2D.DefaultPane>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="130"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel EndText="V" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D TickmarksLength="3" TickmarksVisible="True" Brush="{DynamicResource Home_ConsoleBackground}" DateTimeGridAlignment="Second" DateTimeMeasureUnit="Second">
                                                    <dxchart:AxisX2D.DateTimeOptions>
                                                        <dxchart:DateTimeOptions Format="LongTime"/>
                                                    </dxchart:AxisX2D.DateTimeOptions>
                                                </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentScaleType="DateTime"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="HeadmainV" DisplayName="艏电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="TailmainV" DisplayName="艉电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="LeftsubV" DisplayName="左电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="RightsubV" DisplayName="右电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                            </dxchart:ChartControl.Diagram>
                                        </dxchart:ChartControl>
                                        <ViewControls:TreadTile Grid.Row="1" Grid.Column="0" Title="艏电池" Unit="V" Value="{Binding HeadmainV, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="1" Grid.Column="1" Title="艉电池" Unit="V" Value="{Binding TailmainV, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="1" Grid.Column="2" Title="左电池" Unit="V" Value="{Binding LeftsubV, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="1" Grid.Column="3" Title="右电池" Unit="V" Value="{Binding RightsubV, StringFormat=\{0:F2\}}"/>
                                        <dxchart:ChartControl Grid.Row="2" Grid.ColumnSpan="4">
                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Right" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                            <dxchart:XYDiagram2D  EnableAxisXNavigation="True">
                                            <dxchart:XYDiagram2D.NavigationOptions>
                                                <dxchart:NavigationOptions/>
                                            </dxchart:XYDiagram2D.NavigationOptions>
                                            <dxchart:XYDiagram2D.DefaultPane>
                                                <dxchart:Pane>
                                                    <dxchart:Pane.AxisXScrollBarOptions>
                                                        <dxchart:ScrollBarOptions Visible="False" />
                                                    </dxchart:Pane.AxisXScrollBarOptions>
                                                </dxchart:Pane>
                                            </dxchart:XYDiagram2D.DefaultPane>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="200"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                                <dxchart:AxisLabel EndText="A" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.AxisX>
                                                        <dxchart:AxisX2D Reverse="False" TickmarksLength="3" TickmarksVisible="True" Brush="{DynamicResource Home_ConsoleBackground}" DateTimeGridAlignment="Second" DateTimeMeasureUnit="Second">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                                    </dxchart:XYDiagram2D.AxisX>
                                                    <dxchart:XYDiagram2D.Series >
                                                        <dxchart:LineSeries2D  ArgumentScaleType="DateTime" DataSource="{Binding EnergysysCollection}"
                                                      ArgumentDataMember="Time" 
                                                      ValueDataMember="HeadmainI"  DisplayName="艏电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="TailmainI"  DisplayName="艉电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="LeftsubI"  DisplayName="左电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="RightsubI"  DisplayName="右电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                            </dxchart:ChartControl.Diagram>
                                        </dxchart:ChartControl>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="0" Title="艏电池" Unit="A" Value="{Binding HeadmainI, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="1" Title="艉电池" Unit="A" Value="{Binding TailmainI, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="2" Title="左电池" Unit="A" Value="{Binding LeftsubI, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="3" Title="右电池" Unit="A" Value="{Binding RightsubI, StringFormat=\{0:F2\}}"/>
                                    </Grid>
                                </Grid>
                            </TabItem>
                            <TabItem Header="电池状态">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding EnergyTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                            <RowDefinition/>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <dxchart:ChartControl>

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Right" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                        <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D>
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second"  Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D  Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisY2D.Title>
                                                                <dxchart:AxisTitle Content="消耗(Kwh)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                            </dxchart:AxisY2D.Title>
                                                            <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="200"/>
                                                    </dxchart:AxisY2D.Range>
                                                    
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Headmainconsume"  DisplayName="艏电池消耗">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                                </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Tailmainconsume"  DisplayName="艉电池消耗">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Leftsubconsume" DisplayName="左侧电池消耗">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Rightsubconsume"  DisplayName="右侧电池消耗">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                        </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                        <dxchart:ChartControl Grid.Row="1">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Right" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D >
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisX2D.DateTimeOptions>
                                                        <dxchart:DateTimeOptions Format="LongTime"/>
                                                    </dxchart:AxisX2D.DateTimeOptions>
                                                </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D  Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisY2D.Title>
                                                                <dxchart:AxisTitle Content="温度(°C)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                            </dxchart:AxisY2D.Title>
                                                            <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="80"/>
                                                    </dxchart:AxisY2D.Range>
                                                    
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="HeadmainMaxTemp" DisplayName="艏电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                            <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="TailmainMaxTemp" DisplayName="艉电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="LeftsubMaxTemp" DisplayName="左电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="RightsubMaxTemp" DisplayName="右电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                                </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                        <dxchart:ChartControl Grid.Row="2">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Right" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D >
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second"  Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D >
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D  Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisY2D.Title>
                                                                <dxchart:AxisTitle Content="最大膨胀(mm)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                            </dxchart:AxisY2D.Title>
                                                            <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="100"/>
                                                    </dxchart:AxisY2D.Range>
                                                    
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType ="DateTime" DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="HeadmainMaxExpand" DisplayName="艏电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="TailmainMaxExpand" DisplayName="艉电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="LeftsubMaxExpand" DisplayName="左电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding EnergysysCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Rightsubconsume"  DisplayName="右电池">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                    </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                            </Grid>
                                </Grid>
                            </TabItem>
                            <TabItem Header="CTD">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding CTDTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="2*"/>
                                            <RowDefinition Height="2*"/>
                                            <RowDefinition Height="2*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <dxchart:ChartControl Grid.ColumnSpan="4">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Center" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D>
                                            <dxchart:XYDiagram2D.SecondaryAxesY >
                                                <dxchart:SecondaryAxisY2D x:Name="y2" Brush="{DynamicResource Home_ConsoleBackground}" >
                                                    <dxchart:SecondaryAxisY2D.Title >
                                                        <dxchart:AxisTitle Content="温度(°C)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:SecondaryAxisY2D.Title>
                                                    <dxchart:SecondaryAxisY2D.Range >
                                                        <dxchart:AxisRange MinValue="0" MaxValue="50"/>
                                                    </dxchart:SecondaryAxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:SecondaryAxisY2D>
                                            </dxchart:XYDiagram2D.SecondaryAxesY>
                                            <dxchart:XYDiagram2D.AxisX >
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX >
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Reverse="True" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Title>
                                                        <dxchart:AxisTitle Content="深度(m)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Title>
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="5000"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel Foreground="{DynamicResource Home_ConsoleBackground}" />
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Depth" DisplayName="深度">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Watertemp" dxchart:XYDiagram2D.SeriesAxisY="{Binding ElementName=y2}" DisplayName="海水温度">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="3" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                                </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                        <dxchart:ChartControl Grid.ColumnSpan="4" Grid.Row="1">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Center" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D >
                                            <dxchart:XYDiagram2D.SecondaryAxesY>
                                                <dxchart:SecondaryAxisY2D x:Name="y3" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:SecondaryAxisY2D.Title>
                                                        <dxchart:AxisTitle Content="电导率(uS/cm)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:SecondaryAxisY2D.Title>
                                                    <dxchart:SecondaryAxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="5000"/>
                                                    </dxchart:SecondaryAxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel  Foreground="{DynamicResource Home_ConsoleBackground}" />
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:SecondaryAxisY2D>
                                            </dxchart:XYDiagram2D.SecondaryAxesY>
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Reverse="True" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Title>
                                                        <dxchart:AxisTitle Content="深度(m)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Title>
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="5000"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Depth" DisplayName="深度">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Watercond" dxchart:XYDiagram2D.SeriesAxisY="{Binding ElementName=y3}" DisplayName="电导率">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                                </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                        <dxchart:ChartControl Grid.ColumnSpan="4" Grid.Row="2">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Center" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                        <dxchart:XYDiagram2D >
                                            <dxchart:XYDiagram2D.SecondaryAxesY>
                                                <dxchart:SecondaryAxisY2D  x:Name="y4" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:SecondaryAxisY2D.Title>
                                                        <dxchart:AxisTitle Content="声速(m/s)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:SecondaryAxisY2D.Title>
                                                    <dxchart:SecondaryAxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="1400" MaxValue="1600"/>
                                                    </dxchart:SecondaryAxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:SecondaryAxisY2D>
                                            </dxchart:XYDiagram2D.SecondaryAxesY>
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D Reverse="True" Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Title>
                                                        <dxchart:AxisTitle Content="深度(m)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Title>
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="5000"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel  Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Depth" DisplayName="深度">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                                <dxchart:LineSeries2D DataSource="{Binding CTDCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Soundvec" dxchart:XYDiagram2D.SeriesAxisY="{Binding ElementName=y4}" DisplayName="声速">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="3" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                                </dxchart:ChartControl.Diagram>
                                            </dxchart:ChartControl>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="0" Title="海水温度" Unit="°C" Value="{Binding CTDWaterTemp, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="1" Title="深度" Unit="m" Value="{Binding CTDDepth, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="2" Title="电导率" Unit="uS/cm" Value="{Binding CTDWatercond, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Grid.Column="3" Title="声速" Unit="m/s" Value="{Binding CTDSoundvec, StringFormat=\{0:F2\}}"/>
                                    </Grid>
                                </Grid>
                            </TabItem>
                            <TabItem Header="报警" >
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding AlarmTime}"/>
                                        </TextBlock>
                                        <UniformGrid Columns="3">
                                            <ViewControls:TreadTile  Title="载人舱漏水" Unit="V" Value="{Binding Leak, StringFormat=\{0:F2\}}" />
                                            <ViewControls:TreadTile  Title="压载水舱液位" Unit="mm" Value="{Binding Cable, StringFormat=\{0:F2\}}" />
                                            <ViewControls:TreadTile  Title="计算机罐温度" Unit="℃" Value="{Binding AlertTemp, StringFormat=\{0:F2\}}" />
                                        </UniformGrid>
                                        <ScrollViewer Grid.Row="1" Style="{DynamicResource TransportScrollViewer}" CanContentScroll="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                                            <ListView ItemsSource="{Binding AlarmList}" FontSize="18">
                                                <ListBox.ItemContainerStyle>
                                                    <Style TargetType="ListBoxItem">
                                                        <!-- 设置控件模板 -->
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="ListBoxItem">
                                                                    <Border Background="{TemplateBinding Background}" Height="30">
                                                                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              TextBlock.Foreground="{TemplateBinding Foreground}"/>
                                                                    </Border>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>

                                                        <!-- 设置触发器 -->
                                                        <Style.Triggers>
                                                            <Trigger Property="IsSelected" Value="true">
                                                                <Setter Property="Background" Value="#CC119EDA"/>
                                                                <Setter Property="Foreground" Value="Black"/>
                                                            </Trigger>
                                                            <Trigger Property="IsMouseOver" Value="true">
                                                                <Setter Property="Background" Value="LemonChiffon"/>
                                                                <Setter Property="Foreground" Value="Black"/>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ListBox.ItemContainerStyle>
                                            </ListView>
                                        </ScrollViewer>
                                    </StackPanel>
                                </Grid>
                            </TabItem>
                            <TabItem Header="避碰">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Row="0" Grid.ColumnSpan="2">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding BpTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Column="0" Grid.Row="1" Grid.RowSpan="2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <ViewControls:TreadTile Grid.Row="0" Title="前上" Unit="米" Value="{Binding BpFrontUp, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="1" Title="正前" Unit="米" Value="{Binding BpFront, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="2" Title="前下" Unit="米" Value="{Binding BpFrontDown, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="3" Title="正下" Unit="米" Value="{Binding BpBottom, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="4" Title="后下" Unit="米" Value="{Binding BpBottomBack, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="5" Title="正左" Unit="米" Value="{Binding BpLeft, StringFormat=\{0:F2\}}"/>
                                        <ViewControls:TreadTile Grid.Row="6" Title="正右" Unit="米" Value="{Binding BpRight, StringFormat=\{0:F2\}}"/>
                                    </Grid>
                                    <Grid Grid.Row="1" Grid.Column="1" Width="500" Height="620" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <Viewbox Width="300" Height="240" Grid.Row="0">
                                            <Image Source="/BoonieBear.DeckUnit.Mov4500UI;component/Assets/UWV_Right.png"/>
                                        </Viewbox>
                                        <Viewbox Width="200" Height="200" Grid.Row="1">
                                            <Image Source="/BoonieBear.DeckUnit.Mov4500UI;component/Assets/Logo_nbg.png"/>
                                        </Viewbox>
                                        <Grid Grid.Row="0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Controls:LengthMark Name="FrontMark" Foreground="White" Grid.Column="1" Grid.RowSpan="2" Content="{Binding BpFront, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" HorizontalAlignment="Left" Margin="100,0,0,0" Width="{Binding BpFront, Converter={StaticResource BpMarkLengthConverter}}"/>
                                            <Controls:LengthMark  Grid.Column="1" Foreground="White" Grid.Row="0" Content="{Binding BpFrontUp, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" HorizontalAlignment="Left" Margin="100,50,0,0" Width="{Binding BpFrontUp, Converter={StaticResource BpMarkLengthConverter}}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                                                <Controls:LengthMark.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform/>
                                                        <SkewTransform/>
                                                        <RotateTransform Angle="-30"/>
                                                        <TranslateTransform/>
                                                    </TransformGroup>
                                                </Controls:LengthMark.RenderTransform>
                                            </Controls:LengthMark>
                                            <Controls:LengthMark  Grid.Column="1" Foreground="White" Grid.Row="1" Content="{Binding BpFrontDown, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" HorizontalAlignment="Left" Margin="100,0,0,50" Width="{Binding BpFrontDown, Converter={StaticResource BpMarkLengthConverter}}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                                                <Controls:LengthMark.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform/>
                                                        <SkewTransform/>
                                                        <RotateTransform Angle="30"/>
                                                        <TranslateTransform/>
                                                    </TransformGroup>
                                                </Controls:LengthMark.RenderTransform>
                                            </Controls:LengthMark>
                                            <Controls:LengthMark  Grid.Row="1" Grid.ColumnSpan="2" Foreground="White"  Content="{Binding BpBottom, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" HorizontalAlignment="Center" Width="{Binding BpBottom, Converter={StaticResource BpMarkLengthConverter}}" Margin="0,0,0,70" VerticalAlignment="Bottom" RenderTransformOrigin="0.5,0.5">
                                                <Controls:LengthMark.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform/>
                                                        <SkewTransform/>
                                                        <RotateTransform Angle="90"/>
                                                        <TranslateTransform/>
                                                    </TransformGroup>
                                                </Controls:LengthMark.RenderTransform>
                                            </Controls:LengthMark>
                                            <Controls:LengthMark  Grid.Row="1"  Foreground="White"  Content="{Binding BpBottomBack, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" HorizontalAlignment="Right" Margin="0,60,90,0" Width="{Binding BpBottomBack, Converter={StaticResource BpMarkLengthConverter}}" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5">
                                                <Controls:LengthMark.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform/>
                                                        <SkewTransform/>
                                                        <RotateTransform Angle="-30"/>
                                                        <TranslateTransform/>
                                                    </TransformGroup>
                                                </Controls:LengthMark.RenderTransform>
                                            </Controls:LengthMark>
                                        </Grid>
                                        <Grid Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Controls:LengthMark  Grid.Column="0" Grid.RowSpan="2" Foreground="White"  
                                                Content="{Binding BpRight, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" 
                                                HorizontalAlignment="Right" 
                                                Width="{Binding BpRight, Converter={StaticResource BpMarkLengthConverter}}" 
                                                VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5" Margin="0,0,70,0"/>
                                            <Controls:LengthMark  Grid.Column="1" Grid.RowSpan="2" Foreground="White"  
                                                Content="{Binding BpLeft, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" 
                                                HorizontalAlignment="Left" 
                                                Width="{Binding BpLeft, Converter={StaticResource BpMarkLengthConverter}}" 
                                                VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5" Margin="70,0,0,0"/>
                                            <Controls:LengthMark  Grid.Row="1" Grid.ColumnSpan="2" Foreground="White"  
                                                Content="{Binding BpBottom, Converter={StaticResource BpDistanceConverter}, Mode=OneWay}" 
                                                HorizontalAlignment="Center" 
                                                Width="{Binding BpBottom, Converter={StaticResource BpMarkLengthConverter}}" 
                                                VerticalAlignment="Bottom" RenderTransformOrigin="0.5,0.5" Margin="0,0,0,70">
                                                <Controls:LengthMark.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform/>
                                                        <SkewTransform/>
                                                        <RotateTransform Angle="90"/>
                                                        <TranslateTransform/>
                                                    </TransformGroup>
                                                </Controls:LengthMark.RenderTransform>
                                            </Controls:LengthMark>
                                        </Grid>
                                    </Grid>
                                </Grid>
                            </TabItem>
                            <TabItem Header="ADCP">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0">
                                        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center"  FontSize="18" Height="30">
                                        <Run Text="更新时间:"/>
                                        <Run Text="{Binding ADCPTime}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <DataGrid
                                          Grid.Row="0"
                                          Grid.Column="0"
                                          RenderOptions.ClearTypeHint="Enabled"
                                          TextOptions.TextFormattingMode="Display"
                                          Margin="2"
                                          ItemsSource="{Binding Path=xVel}"
                                          Style="{DynamicResource AzureDataGrid}"
                                          AutoGenerateColumns="False">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="X流速" CanUserSort="False" CanUserResize="False" Binding="{Binding Number}" CanUserReorder="False"/>
                                                <DataGridTemplateColumn Header="" >
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <MetroControl:MetroProgressBar x:Name="PriceProgressBar"
                                                               Value="{Binding Number, Converter={StaticResource AbsConverter}}"
                                                               Minimum="0"
                                                               Maximum="60"
                                                               Foreground="{DynamicResource AccentColorBrush}"
                                                               Background="Transparent"
                                                               VerticalAlignment="Center"
                                                               Height="15" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <DataGrid 
                                          Grid.Row="0"
                                          Grid.Column="1"
                                          RenderOptions.ClearTypeHint="Enabled"
                                          TextOptions.TextFormattingMode="Display"
                                          Margin="5"
                                          ItemsSource="{Binding Path=yVel}"
                                          Style="{DynamicResource AzureDataGrid}"
                                          AutoGenerateColumns="False" HorizontalAlignment="Left">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Y流速" CanUserSort="False" CanUserResize="False" Binding="{Binding Number}"/>
                                                <DataGridTemplateColumn Header="">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <MetroControl:MetroProgressBar x:Name="PriceProgressBar"
                                                       Value="{Binding Number, Converter={StaticResource AbsConverter}}"
                                                       Minimum="0"
                                                       Maximum="60"
                                                       Foreground="{DynamicResource AccentColorBrush}"
                                                       Background="Transparent"
                                                       VerticalAlignment="Center"
                                                       Height="20"/>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <DataGrid 
                                          Grid.Row="0"
                                          Grid.Column="2"
                                          RenderOptions.ClearTypeHint="Enabled"
                                          TextOptions.TextFormattingMode="Display"
                                          Margin="5"
                                          ItemsSource="{Binding Path=zVel}"
                                          Style="{DynamicResource AzureDataGrid}"
                                          AutoGenerateColumns="False" HorizontalAlignment="Left">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Z流速" CanUserSort="False" CanUserResize="False"  Binding="{Binding Number}"/>
                                                <DataGridTemplateColumn Header="" >
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <MetroControl:MetroProgressBar x:Name="PriceProgressBar"
                                                       Value="{Binding Number, Converter={StaticResource AbsConverter}}"
                                                       Minimum="0"
                                                       Maximum="60"
                                                       Foreground="{DynamicResource AccentColorBrush}"
                                                       Background="Transparent"
                                                       VerticalAlignment="Center"
                                                       Height="20"/>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <Grid  Grid.Column="3">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <ViewControls:TreadTile  Title="对底速度" Unit="m/s" Value="{Binding BottomTrack, StringFormat=\{0:F2\}}" />
                                            <ViewControls:TreadTile  Title="对底高度" Grid.Column="1" Unit="m" Value="{Binding ADCPHeight, StringFormat=\{0:F2\}}" />
                                            <dxgauge:CircularGaugeControl Grid.Row="1"  Grid.ColumnSpan="2" Grid.Column="0">
                                                <dxgauge:CircularGaugeControl.Scales>
                                                    <dxgauge:ArcScale StartAngle="-180" EndAngle="0" EndValue="5" ShowLabels="True" MajorIntervalCount="5" >
                                                        <dxgauge:ArcScale.LabelPresentation>
                                                            <dxgauge:ProgressiveScaleLabelPresentation/>
                                                        </dxgauge:ArcScale.LabelPresentation>
                                                        <dxgauge:ArcScale.TickmarksPresentation>
                                                            <dxgauge:ClassicTickmarksPresentation/>
                                                        </dxgauge:ArcScale.TickmarksPresentation>
                                                        <dxgauge:ArcScale.Needles>
                                                            <dxgauge:ArcScaleNeedle Value="{Binding BottomTrack}">
                                                                <dxgauge:ArcScaleNeedle.Presentation>
                                                                    <dxgauge:CleanWhiteArcScaleNeedlePresentation/>
                                                                </dxgauge:ArcScaleNeedle.Presentation>
                                                            </dxgauge:ArcScaleNeedle>
                                                        </dxgauge:ArcScale.Needles>
                                                    </dxgauge:ArcScale>
                                                </dxgauge:CircularGaugeControl.Scales>
                                            </dxgauge:CircularGaugeControl>
                                            
                                        </Grid>
                                        <dxchart:ChartControl Grid.ColumnSpan="4" Grid.Row="1">

                                            <dxchart:ChartControl.Legend>
                                                <dxchart:Legend HorizontalPosition="Center" IndentFromDiagram="5" Opacity="0.7"/>
                                            </dxchart:ChartControl.Legend>
                                            <dxchart:ChartControl.Diagram>
                                                <dxchart:XYDiagram2D >
                                            <dxchart:XYDiagram2D.AxisX>
                                                <dxchart:AxisX2D DateTimeMeasureUnit="Second" DateTimeGridAlignment="Second" Brush="{DynamicResource Home_ConsoleBackground}">
                                                            <dxchart:AxisX2D.DateTimeOptions>
                                                                <dxchart:DateTimeOptions Format="LongTime"/>
                                                            </dxchart:AxisX2D.DateTimeOptions>
                                                        </dxchart:AxisX2D>
                                            </dxchart:XYDiagram2D.AxisX>
                                            <dxchart:XYDiagram2D.AxisY>
                                                <dxchart:AxisY2D  Brush="{DynamicResource Home_ConsoleBackground}">
                                                    <dxchart:AxisY2D.Title>
                                                        <dxchart:AxisTitle Content="高度(m)" Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Title>
                                                    <dxchart:AxisY2D.Range>
                                                        <dxchart:AxisRange MinValue="0" MaxValue="400"/>
                                                    </dxchart:AxisY2D.Range>
                                                    <dxchart:AxisY2D.Label>
                                                        <dxchart:AxisLabel  Foreground="{DynamicResource Home_ConsoleBackground}"/>
                                                    </dxchart:AxisY2D.Label>
                                                </dxchart:AxisY2D>
                                            </dxchart:XYDiagram2D.AxisY>
                                            <dxchart:XYDiagram2D.Series>
                                                <dxchart:LineSeries2D ArgumentScaleType="DateTime" DataSource="{Binding AdcpdataCollection}"
                                                  ArgumentDataMember="Time" 
                                                  ValueDataMember="Height" DisplayName="高度">
                                                            <dxchart:LineSeries2D.LegendPointOptions>
                                                                <dxchart:PointOptions PointView="SeriesName" Pattern="{}{s}"/>
                                                            </dxchart:LineSeries2D.LegendPointOptions>
                                                    <dxchart:LineSeries2D.SeriesAnimation>
                                                        <dxchart:Line2DSlideFromRightAnimation/>
                                                    </dxchart:LineSeries2D.SeriesAnimation>
                                                    <dxchart:LineSeries2D.LineStyle>
                                                        <dxchart:LineStyle Thickness="4" />
                                                    </dxchart:LineSeries2D.LineStyle>
                                                </dxchart:LineSeries2D>
                                            </dxchart:XYDiagram2D.Series>
                                        </dxchart:XYDiagram2D>
                                             </dxchart:ChartControl.Diagram>
                                        </dxchart:ChartControl>
                                    </Grid>
                                    
                                </Grid>
                            </TabItem>
                            
                        </MetroControl:MetroAnimatedTabControl>
                    </Grid>
                </Grid>
            </Grid>
            <TextBlock Grid.Row ="2" Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="16" Foreground="{Binding LinkBoxColor}" Margin="25,0,0,0" FontFamily="Microsoft YaHei">
                <Run Text="网络状态："/>
                <Run Text="{Binding LinkStatus}" />
            </TextBlock>
            <TextBlock Grid.Row ="2" Foreground="White" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="16" Margin="0,0,155,0">
                <Run Text="网速："/>
                <Run Text="Rx- "/>
                 <Run Text="{Binding LinkRxSpeed}" />
                <Run Text="| Tx- "/>
                 <Run Text="{Binding LinkTxSpeed}" />
            </TextBlock>
            <TextBlock Grid.Row ="2" Foreground="White" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="16" Margin="0,0,0,0">
                 <Run Text="{Binding Time}" />
            </TextBlock>
        </Grid>

    </Controls:MetroContentControl>
</Page>
